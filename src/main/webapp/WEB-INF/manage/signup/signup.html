<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<title>蓝煜热力客户信息服务管理系统</title>
<meta name="renderer" content="webkit" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<link type="text/css" rel="stylesheet" th:href="@{/static/css/bootstrap.min.css}" />
<link type="text/css" rel="stylesheet" th:href="@{/static/css/base.css}" />
</head>
<body class="page-login page-reg" th:inline="text">
    <div class="login-logo"></div>
    <div class="reg-box">
        <h3>用户注册</h3>
        <form class="ui-form" method="post" action="/signup" id="form">
            <div class="ui-form-item error clearfix">
                <label class="ui-label">用户名：</label>
                <input class="ui-input" id="username" name="username" type="text" placeholder="请输入账号"/>
            </div>
            <div class="ui-form-item clearfix">
                <label class="ui-label">名字：</label>
                <input class="ui-input" id="name" name="name" type="text" placeholder="请输入名字"/>
            </div>
            <div class="ui-form-item clearfix">
                <label class="ui-label">密  码：</label>
                <input class="ui-input" id="password" name="password" type="password" placeholder="请输入密码"/>
            </div>
            <div class="ui-form-item clearfix">
                <label class="ui-label">密码确认：</label>
                <input class="ui-input" name="conform_pwd" type="password" placeholder="请再次输入密码"/>
            </div>
            <div class="ui-form-item clearfix">
                <label class="ui-label">申请的权限</label>
                <select class="ui-input" name="authority">
                  <option value="ROLE_ADMIN">管理员</option>
                  <option value="ROLE_LEADER">领导</option>
                  <option value="ROLE_REPAIR">维修人员</option>
                  <option value="ROLE_SERVICE">客服人员</option>
                </select>
            </div>
            <div class="ui-form-item ui-form-btn">
                <button type="submit">提交</button>
            </div>
        </form>
    </div>
    <div class="login-footer ta-c">
        <p>公司地址：江苏省南京市建邺区云龙山路80号天泽星网C区7楼<span class="ml-15">未经许可不得转载</span></p>
        <p>版权所有COPYRIGHT 2014-2017，江苏紫安智能系统工程有限公司. All Reserved.<span class="ml-15">苏ICP备11075351</span></p>
    </div>
	<!-- <form class="form-filed" id="form" th:action="@{/signup}" th:object="${command}" method="post">
				<h3 class="text-center">用户注册</h3>
				<hr>
				  <div class="form-group">
				    <label for="inputEmail3" class="col-sm-2 control-label">用户名</label>
				    <div class="col-sm-10">
				      <input id="username" th:field="*{username}" type="text" class="form-control" placeholder="请输入账号"/>
				    </div>
				  </div>
				  <div class="form-group">
				    <label for="inputEmail3" class="col-sm-2 control-label">名字</label>
				    <div class="col-sm-10">
				      <input id="name" th:field="*{name}" type="text" class="form-control" placeholder="请输入名字"/>
				    </div>
				  </div>
				  <div class="form-group">
				    <label for="inputPassword3" class="col-sm-2 control-label">密码</label>
				    <div class="col-sm-10">
				      <input id="password" th:field="*{password}" type="password" class="form-control" placeholder="请输入密码"/>
				    </div>
				  </div>
				  <div class="form-group">
				    <label for="inputPassword3" class="col-sm-2 control-label"></label>
				    <div class="col-sm-10">
				      <input name="conform_pwd" type="password" class="form-control" placeholder="请再次输入密码"/> 
				    </div>
				  </div>
				   <div class="form-group">
					<label class="col-xs-2 control-label">人员权限</label>
					<div class="col-xs-10">
						<select th:field="*{authority}">
						  <option value="ROLE_ADMIN">管理员</option>
						  <option value="ROLE_LEADER">领导</option>
						  <option value="ROLE_REPAIR">维修人员</option>
						  <option value="ROLE_SERVICE">客服人员</option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<div class="col-xs-offset-2 col-xs-10">
						<button type="submit" class="btn btn-primary">提交</button>
					</div>
				</div>
			</form> -->
<script type="text/javascript" th:src="@{/static/js/jquery-1.9.1.min.js}"></script>
<script type="text/javascript" th:src="@{/static/js/jquery.validate.min.js}"></script>
<script>
$(function(){
	$('#form').validate({
		rules: {
			"username": {
				required:true,
				remote: {
	                type: "get",
	                url: "/signup/exist",
	                data: {
	                    name: function() {
	                        return $("#username").val();
	                    }
	                },
	                dataType: "json"
	            }
			},
			"name": {
				required:true
			},
			"password": {
				required:true
			},
			"authority": {
				required:true
			},
			"conform_pwd": {
				required:true,
				equalTo:"#password" 
			}
		},
		messages: {
			"username": {
				required:"请输入用户名",
				remote:"账号已存在"
			},
			"name": {
				required:"请输入名字"
			},
			"password": {
				required:"请输入密码"
			},
			"authority": {
				required:"请选择权限"
			},
			"conform_pwd": {
				required:"请再次输入密码",
				equalTo:"两次输入密码不一致" 
			}
		}
	});
});
</script>
</body>
</html>